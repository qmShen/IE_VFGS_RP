\section{Experimental Evaluation}\label{sec:exp}
We evaluate our techniques on two real-world trajectory datasets: \pt{} and \sz{}.
\pt{}~\cite{pt} contains a total of 2.39 million taxi trajectories and 75.67 million of GPS points, and the longest trajectory has 3,490 GPS points.
\sz{}~\cite{sz} consists of 3.07 million taxi trajectories with 53.53 million GPS points, and the longest trajectory has 2,268 GPS points. All experiments are conducted on a machine with an Intel i7-8700 CPU, 24 GB memory and an NVIDIA GeForce GTX1080 GPU with 8 GB on-chip memory, running on Windows 10. All methods are implemented in Java 1.8, and the Processing 3 library~\cite{p3} is used for rendering. All datasets and source codes required to reproduce our results are available at~\cite{code}.

%\REPORT{
This section is organized as follows.
In Section~\ref{sec:case}, we present several case studies of the visualization results on the \pt{} and \sz{} datasets to demonstrate the merits of our methods.
% In Section~\ref{sec:case}, we evaluate the effectiveness of our proposal by the case studies on \pt{} and \sz{} trajectory dataset, respectively.
%}
In Section~\ref{sec:user}, we conduct a comprehensive user study to test the effectiveness of our visualization results on practical  tasks including \textit{region center identification}, \textit{reachable route inspection} and \textit{traffic flow comparison}. In Section~\ref{sec:quality}, we quantitatively evaluate the fidelity loss and efficiency of our methods.

% and has been cleaned for further analysis.
\trim \trim

\subsection{Case studies}
\subsubsection{Effectiveness of overview}\label{sec:case}

\begin{figure*}[t]
	\centering
	\includegraphics[width=0.95\textwidth]{pictures/experiment_study/case_study_overview.pdf}
	\vspace{-3mm}
	\caption{Effectiveness studies of $\avats$ at overview visualization in \pt{}.}
	\label{fig:overview}
	\vspace{-2mm}
\end{figure*}


We conduct case study in \pt{}, shown as the visualization results in Figure~\ref{fig:overview}, to demonstrate the effectiveness our proposals from the following aspects.


\stitle{Consistently good visual fidelity at overview}
At zoom level 11, Figure~\ref{fig:overview}(A) is the visualization result of the full \pt{} dataset.
With a sampling rate $\alpha \!=\! 1\%$, Figures~\ref{fig:overview}(B) and (C) are the visualizations produced by uniform random sampling ($\rand$), distance based sampling (\ref{}),   
and our visual quality-guaranteed sampling method ($\avats$, \QM{Algorithm~\ref{alg:plus}}), respectively. Comparing with Figure~\ref{fig:overview}(B) and (C), it is obvious that Figure~\ref{fig:overview}(E) is more similar to Figure~\ref{fig:overview}(A). In particular, Figure~\ref{fig:overview}(E) not only preserves the overall visual structure of the entire region but also keeps the details of cities that are far from the center (marked by the dashed cycles in the figure). However, the details of these cities are lost in Figure~\ref{fig:overview}(C) as $\rand{}$ mostly preserve trajectories in the dense region. \QM{On the other sides, the distance based sampling keeps the trajectories in the sparse regions but cannot guarantee visual quality.} 

\stitle{Consistently good visual fidelity under different sampling rates}
Figures~\ref{fig:overview}(D) and (E) are the visualizations produced by $\avats{}$ with a sampling rate of $0.1\%$ and $1\%$. We can make two observations: (i) the larger the sampling rate, the better the visual fidelity, i.e., Figures~\ref{fig:overview}(C) and (E) are more similar to Figure~\ref{fig:overview}(A) compared with Figures~\ref{fig:overview}(B) and (D); (ii) the visualization of $\avats$ with a sampling rate of $0.1\%$ (i.e., Figure~\ref{fig:overview}(D)) looks even more appealing than the visualization of $\rand{}$ with a sampling rate of $1\%$ (i.e., Figure~\ref{fig:overview}(C)) as Figure~\ref{fig:teaser}(D) better captures the overall visual structure of Figure~\ref{fig:overview}(A).

%Figures~\ref{fig:teaser}(D) and (E) are the visualizations produced by $\rand{}$ with a sampling rate of $0.1\%$ and $1\%$, respectively, while Figures~\ref{fig:teaser}(D) and (E) are the visualizations generated by our $\avats{}$ algorithm at the same sampling rates. We can make two observations: (i) the larger the sampling rate, the better the visual fidelity, i.e., Figures~\ref{fig:teaser}(C) and (E) are more similar to Figure~\ref{fig:teaser}(A) compared with Figures~\ref{fig:teaser}(B) and (D); (ii) the visualization of $\avats$ with a sampling rate of $0.1\%$ (i.e., Figure~\ref{fig:teaser}(D)) looks even more appealing than the visualization of $\rand{}$ with a sampling rate of $1\%$ (i.e., Figure~\ref{fig:teaser}(C)) as Figure~\ref{fig:teaser}(D) better captures the overall visual structure of Figure~\ref{fig:teaser}(A).

\stitle{Color encoding effectively mitigates visual clutter}
% Then, we present the superiority of the color encoding scheme in $\avats$, which denotes as $\cavats$ in subsequent sections.
At a zoom level of 11 and with a sampling rate of $1\%$, Figures~\ref{fig:overview}(E) and (F) are the visualizations produced our $\avats$ and $\cavats$ (i.e., $\avats$ with color encoding), respectively.
Visual clutter is severe for the full dataset (i.e., Figure~\ref{fig:overview}(A)) and Figures~\ref{fig:overview}(E) since almost all pixels in the center regions are colored, and it is difficult to identify patterns in the these regions. The visualization of $\cavats$ in Figure~\ref{fig:overview}(F) migrate this problem by encoding the trajectories with color, and thus it is easy to identify some prominent trajectories and busy routes. 


\subsubsection{Case Studies on the effectiveness of detail view}\label{sec:detail}


\begin{figure*}[t]
	\centering
	\includegraphics[width=0.95\textwidth]{pictures/case_study_icde/case_study_detail_view.pdf}
	\vspace{-3mm}
	\caption{Effectiveness studies of $\avats$ at detail visualization.}
	\label{fig:detailview}
	\vspace{-2mm}
\end{figure*}

We next present the effectiveness of our proposals with detail views by investigating two regions of interest in \pt{}, as shown in Fig.~\ref{fig:detailview}(A). 


\stitle{Dense region}
R1 is the center of Porto, which has the highest concentration of the trajectories and causes serious visual clutter, as visualized in Fig.~\ref{fig:detailview}(B4).
For example, the circular structures of the main route(shown as Fig.~\ref{fig:porto}(B5$**$)) is unclear.
$\localavats$ alleviates the visual clutter by preserve the $1\%$ trajectories of the total regions but the clutter is still serious. Furthermore, $\avats$ performs better than $\localavats$ by preserving less trajectories and reduce the visual clutter. 


\stitle{Sparse region}
R2 indicates the city of Casino Espinho at zoom level \QM{**}, which contains less trajectories than the center of Porto as the visualization result of full dataset shown in Fig.~\ref{fig:detailview}(B1). 
Given fix sampling rate $\alpha=1\%$, Fig.~\ref{fig:detailview}(B2) indicates the visualization of $\localavats$. This visualization result misses a lot if detail information in this region, because the fix sampling rate preserves too few trajectories(*** trajectories) in the spares region.
While $\avats$ in Fig.~\ref{fig:detailview}(B3) performs much better than $\localavats$ as the sampling rate is automatically adjusted by the visual quality. In this visualization, the trajectory sketch of Casino Espinho is almost the same as it in Fig.~\ref{fig:detailview}(B1), the visualized result of full dataset.

\input{sections/Evaluation_user_study.tex}
